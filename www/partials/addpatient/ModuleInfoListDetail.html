<ion-view title="慢病信息">
<ion-header-bar>
    <a class="button icon-left ion-chevron-left button-clear button-dark" ng-click="onClickBackward()"></a>
    <h2 class="title">慢病信息</h2>
    <!-- <a class="button icon-right ion-chevron-right button-clear button-dark" ng-click="onClickForward()"></a> -->
</ion-header-bar>
  <ion-content>
    <div>    
      <ion-list>
        <div ng-repeat='ModuleInfoListDetail in ModuleInfoList'>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory=='YesNoType'">
            <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
            <select ng-options="YesNoTypeValue.Name for YesNoTypeValue in YesNoType" ng-model="ModuleInfoListDetail.Description">
              <option value="">请选择</option>
              <!-- <option ng-repeat="YesNoType in YesNoType">{{YesNoType.Name}}</option> -->
            </select>
            <!-- <h2>{{ModuleInfoListDetail.Description}}</h2> -->
          </ion-item>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory=='Cm.MstHypertensionDrug'">
            <div>
              <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
              <a class="button button-clear button-positive" ng-click="addhyperdrug()">添加</a>
              <a class="button button-clear button-positive" ng-click="deletehyperdrug()">删除</a>
            </div>
            <div ng-repeat="HypertensionDrug in HypertensionDrugArray">
              <select ng-options="HyperTensionDrugType.Name for HyperTensionDrugType in HypertensionDrug.Type" ng-change="getHyperTensionDrugNameByType(HypertensionDrugData[$index].Type, $index)" ng-model="HypertensionDrugData[$index].Type">
                <option selected value="">请选择</option>
              <!-- <option ng-repeat="HyperTensionDrugTypeName in HyperTensionDrugTypeName">{{HyperTensionDrugTypeName.Name}}</option> -->
              </select>
              <select ng-options="HyperTensionDrugName.Name for HyperTensionDrugName in HypertensionDrug.Name" ng-model="HypertensionDrugData[$index].Name" >
                <option selected value="">请选择</option>
              <!-- <option ng-repeat="HyperTensionDrugName in HyperTensionDrugName">{{HyperTensionDrugName.Name}}</option> -->
              </select>

            </div>
          </ion-item>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory=='Cm.MstDiabetesDrug'">
            <div>
              <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
              <a class="button button-clear button-positive" ng-click="adddiabetesdrug()">添加</a>
              <a class="button button-clear button-positive" ng-click="deletediabetesdrug()">删除</a>
            </div>
            <div ng-repeat="Diabetesdrug in DiabetesDrugArray">
              <select ng-options="DiabetesDrugType.Name for DiabetesDrugType in Diabetesdrug.Type"  ng-change="getDiabetesDrugNameByType(DiabetesDrugData[$index].Type, $index)" ng-model="DiabetesDrugData[$index].Type">
                <option selected value="">请选择</option>
                <!-- <option ng-repeat="HyperTensionDrugTypeName in HyperTensionDrugTypeName">{{HyperTensionDrugTypeName.Name}}</option> -->
              </select>
              <select ng-options="DiabetesDrugName.Name for DiabetesDrugName in Diabetesdrug.Name" ng-model="DiabetesDrugData[$index].Name">
                <option selected value="">请选择</option>
                <!-- <option ng-repeat="HyperTensionDrugName in HyperTensionDrugName">{{HyperTensionDrugName.Name}}</option> -->
              </select>
            </div>
          </ion-item>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory==''">
            <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
            <input type="text" ng-model="ModuleInfoListDetail.Description">
            <!-- <h2>{{ModuleInfoListDetail.Description}}</h2> -->
          </ion-item>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory=='DietHabbit'">
            <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
            <p ng-click="addDietHabbit()">{{DietHabbitValue}}</p>
          </ion-item>
          <ion-item ng-if="ModuleInfoListDetail.ParentCode==ListName&&ModuleInfoListDetail.OptionCategory=='DrinkFrequency'">
            <h2>{{ModuleInfoListDetail.ItemName}} :</h2>
            <select ng-options="DrinkFrequency.Name for DrinkFrequency in DrinkFrequency" ng-model="ModuleInfoListDetail.Description">
              <option selected value="">请选择</option>
              <!-- <option ng-repeat="DrinkFrequency in DrinkFrequency">{{DrinkFrequency.Name}}</option> -->
            </select>
            <!-- <h2>{{ModuleInfoListDetail.Description}}</h2> -->
          </ion-item>
        </div>
      </ion-list>
    </div>
    <button ng-click="Save()" class="button button-block button-positive">保存</button>
  </ion-content>
</ion-view>
